<!DOCTYPE html>


































































<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="shortcut icon" type="image/x-icon" href="../../favicon.ico" />
<title>Upgrading the SDK | Android Developers</title>
<link href="../../assets/android-developer-docs-devguide.css" rel="stylesheet" type="text/css" />
<script src="../../assets/search_autocomplete.js" type="text/javascript"></script>
<script src="../../assets/jquery-resizable.min.js" type="text/javascript"></script>
<script src="../../assets/android-developer-docs.js" type="text/javascript"></script>
<script src="../../assets/prettify.js" type="text/javascript"></script>
<script type="text/javascript">
  setToRoot("../../");
</script>
<noscript>
  <style type="text/css">
    html,body{overflow:auto;}
    #body-content{position:relative; top:0;}
    #doc-content{overflow:visible;border-left:3px solid #666;}
    #side-nav{padding:0;}
    #side-nav .toggle-list ul {display:block;}
    #resize-packages-nav{border-bottom:3px solid #666;}
  </style>
</noscript>
</head>

<body class="gc-documentation">

  <div id="header">
      <div id="headerLeft">
          <a href="../../index.html" tabindex="-1"><img
              src="../../assets/images/bg_logo.png" alt="Android Developers" /></a>
          <ul id="header-tabs" class="sdk">
    
	<li id="home-link"><a href="../../offline.html">
	
		<span class="en">Home</span>
		<span style="display:none" class="de">Startseite</span>
		<span style="display:none" class="es"></span>
		<span style="display:none" class="fr"></span>
		<span style="display:none" class="it"></span>
		<span style="display:none" class="ja">ホーム</span>
		<span style="display:none" class="zh-CN">主页</span>
		<span style="display:none" class="zh-TW">首頁</span>
	
	</a></li>
	<li id="sdk-link"><a href="../../sdk/index.html">
		<span class="en">SDK</span>
	</a></li>
	<li id="guide-link"><a href="../../guide/index.html" onClick="return loadLast('guide')">
	
		<span class="en">Dev Guide</span>
		<span style="display:none" class="de">Handbuch</span>
		<span style="display:none" class="es">Guía</span>
		<span style="display:none" class="fr">Guide</span>
		<span style="display:none" class="it">Guida</span>
		<span style="display:none" class="ja">開発ガイド</span>
		<span style="display:none" class="zh-CN">开发人员指南</span>
		<span style="display:none" class="zh-TW">開發指南</span>
	
	</a></li>
	<li id="reference-link"><a href="../../reference/packages.html" onClick="return loadLast('reference')">
	
		<span class="en">Reference</span>
		<span style="display:none" class="de">Referenz</span>
		<span style="display:none" class="es">Referencia</span>
		<span style="display:none" class="fr">Référence</span>
		<span style="display:none" class="it">Riferimento</span>
		<span style="display:none" class="ja">リファレンス</span>
		<span style="display:none" class="zh-CN">参考</span>
		<span style="display:none" class="zh-TW">參考資料</span>
	
	</a></li>
	<li id="resources-link"><a href="../../resources/index.html" onClick="return loadLast('resources')">
	
		<span class="en">Resources</span>
		<span style="display:none" class="de"></span>
		<span style="display:none" class="es"></span>
		<span style="display:none" class="fr"></span>
		<span style="display:none" class="it"></span>
    		<span style="display:none" class="ja"></span>
		<span style="display:none" class="zh-CN"></span>
		<span style="display:none" class="zh-TW"></span>
	
	</a></li>
	<li id="videos-link"><a href="../../videos/index.html" onClick="return loadLast('videos')">
	
		<span class="en">Videos</span>
		<span style="display:none" class="de"></span>
		<span style="display:none" class="es"></span>
		<span style="display:none" class="fr"></span>
		<span style="display:none" class="it"></span>
		<span style="display:none" class="ja">ビデオ</span>
		<span style="display:none" class="zh-CN"></span>
		<span style="display:none" class="zh-TW"></span>
	
	</a></li>
	<li><a href="http://android-developers.blogspot.com" onClick="return requestAppendHL(this.href)">
	
		<span class="en">Blog</span>
		<span style="display:none" class="de"></span>
		<span style="display:none" class="es"></span>
		<span style="display:none" class="fr"></span>
		<span style="display:none" class="it"></span>
		<span style="display:none" class="ja">ブログ</span>
		<span style="display:none" class="zh-CN">博客</span>
		<span style="display:none" class="zh-TW">網誌</span>
	
	</a></li>


     
</ul>
     
      </div>
      <div id="headerRight">
          <div id="headerLinks">
          
          <a href="http://www.android.com">Android.com</a>
          </div>
  <div id="search" >
      <div id="searchForm">
          <form accept-charset="utf-8" class="gsc-search-box" 
                onsubmit="return submit_search()">
            <table class="gsc-search-box" cellpadding="0" cellspacing="0"><tbody>
                <tr>
                  <td class="gsc-input">
                    <input id="search_autocomplete" class="gsc-input" type="text" size="33" autocomplete="off"
                      title="search developer docs" name="q"
                      value="search developer docs"
                      onFocus="search_focus_changed(this, true)"
                      onBlur="search_focus_changed(this, false)"
                      onkeydown="return search_changed(event, true, '../../')"
                      onkeyup="return search_changed(event, false, '../../')" />
                  <div id="search_filtered_div" class="no-display">
                      <table id="search_filtered" cellspacing=0>
                      </table>
                  </div>
                  </td>
                  <td class="gsc-search-button">
                    <input type="submit" value="Search" title="search" id="search-button" class="gsc-search-button" />
                  </td>
                  <td class="gsc-clear-button">
                    <div title="clear results" class="gsc-clear-button">&nbsp;</div>
                  </td>
                </tr></tbody>
              </table>
          </form>
      </div><!-- searchForm -->
  </div><!-- search -->
      </div><!-- headerRight -->
      <script type="text/javascript">
        <!--  
        changeTabLang(getLangPref());
        //-->
      </script>
  </div><!-- header -->

  <div class="g-section g-tpl-240" id="body-content">
    <div class="g-unit g-first" id="side-nav">
      <div id="devdoc-nav">
<ul>
  
  <li>
    <h2>
      <span class="en">Downloadable SDK Components</span>
      <span style="display:none" class="de"></span>
      <span style="display:none" class="es"></span>
      <span style="display:none" class="fr"></span>
      <span style="display:none" class="it"></span>
      <span style="display:none" class="ja"></span>
      <span style="display:none" class="zh-CN"></span>
      <span style="display:none" class="zh-TW"></span>
    </h2>
    <ul>
      <li><a href="../../sdk/adding-components.html">
      <span class="en">Adding SDK Components</span>
      <span style="display:none" class="de"></span>
      <span style="display:none" class="es"></span>
      <span style="display:none" class="fr"></span>
      <span style="display:none" class="it"></span>
      <span style="display:none" class="ja"></span>
      <span style="display:none" class="zh-CN"></span>
      <span style="display:none" class="zh-TW"></span></a>
      </li>
    </ul>
    <ul>
      <li class="toggle-list">
      <div><a href="../../sdk/android-2.3.3.html">
      <span class="en">Android 2.3.3 Platform</span></a>  <span class="new">new!</span></div>
        <ul>
          <li><a href="../../sdk/api_diff/10/changes.html">API Differences Report &raquo;</a></li> 
        </ul>
      </li>
      <li class="toggle-list">
      <div><a href="../../sdk/android-2.3.html">
      <span class="en">Android 2.3 Platform</span></a></div>
        <ul>
          <li><a href="../../sdk/android-2.3-highlights.html">Platform Highlights</a></li> 
          <li><a href="../../sdk/api_diff/9/changes.html">API Differences Report &raquo;</a></li> 
        </ul>
      </li>
      <li><a href="../../sdk/android-2.2.html">Android 2.2 Platform</a></li>
      <li><a href="../../sdk/android-2.1.html">Android 2.1 Platform</a></li>
      <li><a href="../../sdk/android-1.6.html">Android 1.6 Platform</a></li>
      <li><a href="../../sdk/android-1.5.html">Android 1.5 Platform</a></li>
      <li class="toggle-list">
        <div><a href="#" onclick="toggle(this.parentNode.parentNode,true); return false;">Older Platforms</a></div>
        <ul>
          <li><a href="../../sdk/android-2.0.1.html">Android 2.0.1 Platform</a></li>
          <li><a href="../../sdk/android-2.0.html">Android 2.0 Platform</a></li>
          <li><a href="../../sdk/android-1.1.html">Android 1.1 Platform</a></li>
        </ul>
      </li>
    </ul>
    <ul>
      <li><a href="../../sdk/tools-notes.html">SDK Tools, r9</a> <span class="new">new!</span></li>
      <li><a href="../../sdk/win-usb.html">Google USB Driver, r4</a></li>
    </ul>
  </li>
  <li>
      <h2>
      <span class="en">ADT Plugin for Eclipse</span>
      <span style="display:none" class="de"></span>
      <span style="display:none" class="es"></span>
      <span style="display:none" class="fr"></span>
      <span style="display:none" class="it"></span>
      <span style="display:none" class="ja"></span>
      <span style="display:none" class="zh-CN"></span>
      <span style="display:none" class="zh-TW"></span>
      </h2>
    <ul>
      <li><a href="../../sdk/eclipse-adt.html">ADT 9.0.0
      <span style="display:none" class="de"></span>
      <span style="display:none" class="es"></span>
      <span style="display:none" class="fr"></span>
      <span style="display:none" class="it"></span>
      <span style="display:none" class="ja"></span>
      <span style="display:none" class="zh-CN"></span>
      <span style="display:none" class="zh-TW"></span></a>
      <span class="new">new!</span></li>
    </ul>
  </li>
  <li>
    <h2><span class="en">Native Development Tools</span>
      <span style="display:none" class="de"></span>
      <span style="display:none" class="es"></span>
      <span style="display:none" class="fr"></span>
      <span style="display:none" class="it"></span>
      <span style="display:none" class="ja"></span>
      <span style="display:none" class="zh-CN"></span>
      <span style="display:none" class="zh-TW"></span>
    </h2>
    <ul>
      <li><a href="../../sdk/ndk/index.html">Android NDK, r5b</a>
        <span class="new">new!</span></li>
      <li><a href="../../sdk/ndk/overview.html">What is the NDK?</a></li>
    </ul>
  </li>

  <li>
    <h2>
      <span class="en">More Information</span>
      <span style="display:none" class="de"></span>
      <span style="display:none" class="es"></span>
      <span style="display:none" class="fr"></span>
      <span style="display:none" class="it"></span>
      <span style="display:none" class="ja"></span>
      <span style="display:none" class="zh-CN"></span>
      <span style="display:none" class="zh-TW"></span>
    </h2>
    <ul>
      <li><a href="../../sdk/oem-usb.html">
        <span class="en">OEM USB Drivers</span>
      </a></li>
      <li><a href="../../sdk/requirements.html">SDK System Requirements</a></li>
      <li><a href="../../sdk/older_releases.html">SDK Archives</a></li>

    </ul>
  </li>

</ul>

<script type="text/javascript">
<!--
    buildToggleLists();
    changeNavLang(getLangPref());
//-->
</script>


      </div>
    </div> <!-- end side-nav -->




<div class="g-unit" id="doc-content"><a name="top"></a>

<div id="jd-header" class="guide-header">
  <span class="crumb">
    &nbsp;
    
  </span>
<h1>Upgrading the SDK</h1>
</div>

  <div id="jd-content">

    <div class="jd-descr">
    <p>For the current SDK release, see the links under <strong>Current SDK Release</strong> in the side navigation.</p>

<p>This guide will help you migrate your development environment and applications
to <strong>version 1.0, release 2</strong>, of the Android SDK. Use this guide if you've been developing applications
on a different version of the Android SDK.</p>

<p>To ensure that your applications are compliant with the Android 1.0 system available 
on mobile devices, you need to install the new SDK and port your existing Android 
applications to the updated API. The sections below guide you through the process.</p>

<h2 id="install-new">Install the new SDK</h2>

<p>After unpacking the SDK, you should:</p>

<ul>
  <li>Wipe your emulator data. <p>Some data formats have changed since the last
  SDK release, so any previously saved data in your emulator must be removed. Open a console/terminal
  and navigate to the <code>/tools</code> directory of your SDK. Launch the 
  emulator with the <code>-wipe-data</code> option. </p>
  <p>Windows: <code>emulator -wipe-data</code><br/>
   Mac/Linux: <code>./emulator -wipe-data</code></p>
  </li>
  <li>Update your PATH variable (Mac/Linux; optional). <p>If you had previously setup your 
  PATH variable to point to the SDK tools directory, then you'll need to update it to 
  point to the new SDK. E.g., for a <code>.bashrc</code> or <code>.bash_profile</code> file:
  <code>export PATH=$PATH:<em>&lt;your_new_sdk_dir></em>/tools</code></p>
  </li>
</ul>

<h2 id="update-plugin">Update your ADT Eclipse Plugin</h2>

<p>If you develop on Eclipse and are using the ADT plugin, follow these steps to install the
plugin that's required for this version of the SDK.</p>

<table style="font-size:100%">
<tr><th>Eclipse 3.3 (Europa)</th><th>Eclipse 3.4 (Ganymede)</th></tr>
<tr>
<td width="45%">
<ol>
    <li><a href="http://dl-ssl.google.com/android/ADT-0.8.0.zip">Download the ADT v0.8.0 zip 
      file</a> (do not unpack it).</li>
    <li>Start Eclipse, then select <strong>Help</strong> &gt; <strong>Software Updates</strong> &gt; <strong>Find
            and Install...</strong>. </li>
    <li>In the dialog that appears, select <strong>Search for new features to install</strong> and click 
      <strong>Next</strong>. </li>
    <li>Click <strong>New Archive Site...</strong></li>
    <li>Browse and select the downloaded the zip file.</li>
    <li>You should now see the new site added to the search list (and checked).
        Click <strong>Finish</strong>. </li>
    <li>In the subsequent Search Results dialog box, select the checkbox for
    <strong>Android Plugin</strong> &gt; <strong>Developer Tools</strong>.
    This will check both features:  "Android Developer Tools", and "Android
    Editors". The Android Editors feature is optional, but recommended.  If
    you choose to install it, you need the WST plugin mentioned earlier in this
    page. Click <strong>Next</strong>. </li>
    <li>Read the license agreement and then select <strong>Accept terms of the license agreement</strong>. 
     Click <strong>Next</strong>. </li>
    <li>Click <strong>Finish</strong>. </li>
    <li>The ADT plugin is not signed; you can accept the installation anyway
        by clicking <strong>Install All</strong>. </li>
    <li>Restart Eclipse. </li>
</ol>

</td>
<td>

<ol>
    <li><a href="http://dl-ssl.google.com/android/ADT-0.8.0.zip">Download the ADT v0.8.0 zip 
      file</a> (do not unpack it).</li>
    <li>Start Eclipse, then select <strong>Help</strong> &gt; <strong>Software Updates...</strong>.</li>
    <li>In the dialog that appears, click the <strong>Available Software</strong> tab.</li>
    <li>Click <strong>Add Site...</strong>, then <strong>Archive...</strong>.</li>
    <li>Browse and select the downloaded the zip file.</li>
    <li>Back in the Available Software view, you should see the plugin. Select the checkbox next to 
      <em>Developer Tools</em>  and click <strong>Install...</strong></li>
    <li>On the subsequent Install window, "Android Developer Tools", and "Android Editors" should both be checked. 
    The Android Editors feature is optional, but recommended.  If
    you choose to install it, you need the WST plugin mentioned earlier in this
    page. Click <strong>Next</strong>.</li>
    <li>Accept the license agreement and click <strong>Finish</strong>.</li>
    <li>Restart Eclipse. </li>
</ol>

</td>
</tr>
</table>

<p>After restart, update your Eclipse preferences to point to the SDK directory:</p>
    <ol>
      <li>Select <strong>Window</strong> > <strong>Preferences...</strong> to open the Preferences panel. (Mac OSX: <strong>Eclipse</strong> > <strong>Preferences</strong>)</li>
      <li>Select <strong>Android</strong> from the left panel.</li>
      <li>For the SDK Location in the main panel, click <strong>Browse...</strong> and locate the SDK directory.</li>
      <li>Click <strong>Apply</strong>, then <strong>OK</strong>.</li>
    </ol>

<h2 id="sign">Set Up Application Signing</h2>

<p>All applications must now be signed before you can install them on the emulator. Both 
the ADT plugin and the Ant-based build tools support this requirement by signing compiled 
.apk files with a debug key. To do so, the build tools use the Keytool utility included 
in the JDK to to create a keystore and a key with a known alias and password. For more 
information, see "Signing and Publishing Your App" in the documentation included with the SDK.

<p>To support signing, you should first make sure that Keytool is available to the SDK build 
tools. In most cases, you can tell the SDK build tools how to find Keytool by making sure that 
your JAVA_HOME environment variable is set and that it references a suitable JDK. Alternatively, 
you can add the JDK version of Keytool to your PATH variable.</p>

<p>If you are developing on a version of Linux that originally came with Gnu Compiler for Java, 
make sure that the system is using the JDK version of Keytool, rather than the gcj version. 
If keytool is already in your PATH, it might be pointing to a symlink at /usr/bin/keytool. 
In this case, check the symlink target to make sure that it points to the keytool in the JDK.</p>

<p>If you use Ant to build your .apk files (rather than ADT for Eclipse), you must regenerate 
your build.xml file. To do that, follow these steps:</p>
<ol>
  <li>In your Android application project directory, locate and delete the current build.xml file.</li>
  <li>Run activitycreator, directing output to the folder containing your application project.

<pre>- exec activitycreator --out &lt;project folder&gt; your.activity.YourActivity</pre>

  </li>
</ol>

<p>Run in this way, activitycreator will not erase or create new Java files (or manifest files), 
provided the activity and package already exists. It is important that the package and the activity 
are real. The tool creates a new build.xml file, as well as a new directory called "libs" in which 
to place 3rd jar files, which are now automatically handled by the Ant script.</p>

<h2 id="migrate">Migrate your applications</h2>

<p>If (and only if) you have written apps in an SDK released previous to
the Android 1.0 SDK, you will need to migrate your applications. After
updating your SDK, you may encounter breakages in your code, due to
framework and API changes. You'll need to update your code to match
changes in the Android APIs.</p>

<p>One way to start is to open your project in Eclipse and see where the ADT
identifies errors in your application. You can also look up
specific changes in the Android APIs in the <em>Overview of Changes</em> and <em>
API Diffs Report</em>, both available in the documentation included with the
Android 1.0 SDK package.</p>

<p>If you have additional trouble updating your code, visit the 
<a href="http://groups.google.com/group/android-developers">Android Developers Group</a>
to seek help from other Android developers.</p>

<p>If you have modified one of the ApiDemos applications and would like to migrate it 
to the new SDK, note that you will need to uninstall the version of ApiDemos that comes 
preinstalled in the emulator.</p>

    </div>

  <a href="#top" style="float:right">&uarr; Go to top</a>
  
  </div>

<div id="footer">


  <div id="copyright">
    
  Except as noted, this content is 
  licensed under <a href="http://creativecommons.org/licenses/by/2.5/">
  Creative Commons Attribution 2.5</a>. For details and 
  restrictions, see the <a href="../../license.html">Content 
  License</a>.
  </div>

  <div id="footerlinks">
    
  <p>
    <a href="http://www.android.com/terms.html">Site Terms of Service</a> -
    <a href="http://www.android.com/privacy.html">Privacy Policy</a> -
    <a href="http://www.android.com/branding.html">Brand Guidelines</a>
  </p>
  </div>

</div> <!-- end footer -->

</div><!-- end doc-content -->

</div> <!-- end body-content --> 

<script type="text/javascript">
init(); /* initialize android-developer-docs.js */
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
var pageTracker = _gat._getTracker("UA-5831155-1");
pageTracker._trackPageview();
</script>

</body>
</html>



